<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <!-- import src file -->
        <script src="echarts.js"></script>
    </head>
    
    <body>
        <div id="main1" style="width:100%;height:400px"></div>
        <script type="text/javascript">
            var myChart1 = echarts.init(document.getElementById('main1'),'dark');
    
            window.onresize = function() {
                myChart1.resize();
            }

            var option = {
                
                title: [
                    {
                        text: 'Playground: Pie Chart',
                        left: 'center'
                    },
                    {
                        text:"Year: 2011",
                        borderColor:'#999',
                        borderWidth: 1,
                        textStyle:{
                            fontWeight:'bold',
                            fontSize:16,
                            lineHeight:20,
                        },
                        testAlign:"auto",
                        left:"18%",
                        top:"90%",
                    }
                ],

                dataset: [
                    {
                        // This dataset is on `datasetIndex: 0`.
                        source: [
                            ['Product', 'Sales', 'Price', 'Year'],
                            ['Cake', 123, 32, 2011],
                            ['Cereal', 231, 14, 2011],
                            ['Tofu', 235, 5, 2011],
                            ['Dumpling', 341, 25, 2011],
                            ['Biscuit', 122, 29, 2011],
                            ['Cake', 143, 30, 2012],
                            ['Cereal', 201, 19, 2012],
                            ['Tofu', 255, 7, 2012],
                            ['Dumpling', 241, 27, 2012],
                            ['Biscuit', 102, 34, 2012],
                            ['Cake', 153, 28, 2013],
                            ['Cereal', 181, 21, 2013],
                            ['Tofu', 395, 4, 2013],
                            ['Dumpling', 281, 31, 2013],
                            ['Biscuit', 92, 39, 2013],
                            ['Cake', 223, 29, 2014],
                            ['Cereal', 211, 17, 2014],
                            ['Tofu', 345, 3, 2014],
                            ['Dumpling', 211, 35, 2014],
                            ['Biscuit', 72, 24, 2014]
                        ]
                        // id: 'a'
                    },
                    {
                        // This dataset is on `datasetIndex: 1`.
                        // A `transform` is configured to indicate that the
                        // final data of this dataset is transformed via this
                        // transform function.
                        transform: {
                            type: 'filter',
                            config: { dimension: 'Year', value: 2011 },
                            print: true
                        }
                        // There can be optional properties `fromDatasetIndex` or `fromDatasetId`
                        // to indicate that where is the input data of the transform from.
                        // For example, `fromDatasetIndex: 0` specify the input data is from
                        // the dataset on `datasetIndex: 0`, or `fromDatasetId: 'a'` specify the
                        // input data is from the dataset having `id: 'a'`.
                        // [DEFAULT_RULE]
                        // If both `fromDatasetIndex` and `fromDatasetId` are omitted,
                        // `fromDatasetIndex: 0` are used by default.
                    },
                    {
                        // This dataset is on `datasetIndex: 2`.
                        // Similarly, if neither `fromDatasetIndex` nor `fromDatasetId` is
                        // specified, `fromDatasetIndex: 0` is used by default
                        transform: {
                            // The "filter" transform filters and gets data items only match
                            // the given condition in property `config`.
                            type: 'filter',
                            // Transforms has a property `config`. In this "filter" transform,
                            // the `config` specify the condition that each result data item
                            // should be satisfied. In this case, this transform get all of
                            // the data items that the value on dimension "Year" equals to 2012.
                            config: { dimension: 'Year', value: 2012 },
                            print: true
                        }
                    },
                    {
                        // This dataset is on `datasetIndex: 3`
                        transform: {
                            type: 'filter',
                            config: { dimension: 'Year', value: 2013 },
                            print: true
                        }
                    }
                ],
                series: [
                    {
                        type: 'pie',
                        radius: 66,
                        center: ['20%', '50%'],
                        // In this case, each "pie" series reference to a dataset that has
                        // the result of its "filter" transform.
                        datasetIndex: 1
                    },
                    {
                        type: 'pie',
                        radius: 66,
                        center: ['50%', '50%'],
                        datasetIndex: 2
                    },
                    {
                        type: 'pie',
                        radius: 66,
                        center: ['80%', '50%'],
                        datasetIndex: 3
                    }
                ]
            };
    
            myChart1.setOption(option);
        </script>

        <div id="main2" style="width:100%;height:400px"></div>
        <script type="text/javascript">

            var myChart2 = echarts.init(document.getElementById("main2"),'dark');

            window.onresize = function() {
                myChart2.resize();
            }

            var option = {
                dataset:[
                    {
                        dimensions:['name','age','profession','score','date'],
                        source:[
                            ['Hannah Krause', 41, 'Engineer', 314, '2011-02-12'],
                            ['Zhao Qian', 20, 'Teacher', 351, '2011-03-01'],
                            ['Jasmin Krause ', 52, 'Musician', 287, '2011-02-14'],
                            ['Li Lei', 37, 'Teacher', 219, '2011-02-18'],
                            ['Karle Neumann', 25, 'Engineer', 253, '2011-04-02'],
                            ['Adrian Groß', 19, 'Teacher', '-', '2011-01-16'],
                            ['Mia Neumann', 71, 'Engineer', 165, '2011-03-19'],
                            ['Böhm Fuchs', 36, 'Musician', 318, '2011-02-24'],
                            ['Han Meimei', 67, 'Engineer', 366, '2011-03-12']
                        ]
                    },
                    {
                        transform:[
                            {
                                type:'filter',
                                config:{dimension:'profession',value:'Engineer'}
                            },
                            {
                                type:'sort',
                                config:{dimension:'score',order:'desc'},
                                print:true
                            },
                        ]
                    },
                    {
                        transform:[
                            {
                                type:'filter',
                                config:{dimension:'profession',value:'Teacher'}
                            },
                            {
                                type:'sort',
                                config:{dimension:'score',order:'desc'},
                                print:true
                            },
                        ]
                    },
                    {
                        transform:[
                            {
                                type:'filter',
                                config:{dimension:'profession',value:'Musician'}
                            },
                            {
                                type:'sort',
                                config:{dimension:'score',order:'desc'},
                                print:true
                            },
                        ]
                    }
                ],
                grid:[
                    {left:"5%",right:"70%"},
                    {left:"35%",right:'35%'},
                    {left:"70%",right:'5%'},],
                xAxis:[{type:"category",gridIndex:0},{type:"category",gridIndex:1},{type:"category",gridIndex:2},],
                yAxis:[{type:"value",gridIndex:0},{type:"value",gridIndex:1},{type:"value",gridIndex:2},],
                series:[
                    {
                        type:'bar',
                        xAxisIndex:0,
                        yAxisIndex:0,
                        datasetIndex:1,
                        encode:{
                            x:'name',
                            y:'score'
                        },
                    },
                    {
                        type:'bar',
                        xAxisIndex:1,
                        yAxisIndex:1,
                        datasetIndex:2,
                        encode:{
                            x:'name',
                            y:'score'
                        },
                    },
                    {
                        type:'bar',
                        xAxisIndex:2,
                        yAxisIndex:2,
                        datasetIndex:3,
                        encode:{
                            x:'name',
                            y:'score'
                        },
                    }
                ]
            };
            
            
            option && myChart2.setOption(option)
        </script>

        <div id="main3" style="width:100%;height:400px"></div>
        <script type="text/javascript">
            var chartDom=document.getElementById("main3");
            var myChart3 = echarts.init(chartDom,'dark');

            window.onresize = function() {
                myChart3.resize();
            }

            var option = {
                dataset:[
                    {
                        dimensions: ['name', 'age', 'profession', 'score', 'date'],
                        source: [
                            [' Hannah Krause ', 41, 'Engineer', 314, '2011-02-12'],
                            ['Zhao Qian ', 20, 'Teacher', 351, '2011-03-01'],
                            [' Jasmin Krause ', 52, 'Musician', 287, '2011-02-14'],
                            ['Li Lei', 37, 'Teacher', 219, '2011-02-18'],
                            [' Karle Neumann ', 25, 'Engineer', 253, '2011-04-02'],
                            [' Adrian Groß', 19, 'Teacher', null, '2011-01-16'],
                            ['Mia Neumann', 71, 'Engineer', 165, '2011-03-19'],
                            [' Böhm Fuchs', 36, 'Musician', 318, '2011-02-24'],
                            ['Han Meimei ', 67, 'Engineer', 366, '2011-03-12']
                        ]
                    },
                    {
                        transform:{
                            type:'sort',
                            config:[
                                {dimension:"profession",order:"desc"},
                                {dimension:"score",order:"desc"},
                            ],
                        },
                    },
                ],
                xAxis:{
                    type:"category",
                    axisLabel:{interval:0,rotate:30},
                },
                yAxis:{
                    type:'value',
                },
                series:{
                    type:"bar",
                    label:{
                        show:true,
                        rotate:30,
                        position:'insideBottom',
                        align:'left',
                        verticalAlign:'bottom',
                    },
                    itemStyle: {
                        color: function (params) {
                            return {
                            Engineer: '#5470c6',
                            Teacher: '#91cc75',
                            Musician: '#fac858'
                            }[params.data[2]];
                        }
                    },  
                    encode:{
                        x:'name',
                        y:'score',
                        label:["profession"],
                        tooltip: ['name','age','profession','score']
                    },
                    datasetIndex:1,
                    
                },
                tooltip:{
                    trigger:'axis',
                }
            };

            option && myChart3.setOption(option);

        </script>
    </body>
</html>